<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <meta name="robots" content="noindex">
</head>
<body>
    <div>Redirecting...</div>
    <script>
        // Extract ID from filename
        const id = 'km4'; // This would be dynamically set for each file
        
        // Redirect using the API
        fetch(`https://urls.varius.technology/api/redirect?id=${id}`)
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error(`Network response was not ok: ${response.status}`);
                }
            })
            .then(data => {
                if (data && data.redirect) {
                    window.location.href = data.redirect;
                } else {
                    console.error('No redirect URL found in response');
                    window.location.href = 'https://p.nknighta.me/404.html';
                }
            })
            .catch(error => {
                console.error('Error fetching redirect API:', error);
                window.location.href = 'https://p.nknighta.me/404.html';
            });
    </script>
</body>
</html>
